{"version":3,"sources":["webpack:///./node_modules/core-js/library/modules/es6.object.keys.js","webpack:///src/views/systemSetting/mapSetting.vue","webpack:///./src/views/systemSetting/mapSetting.vue?30dc","webpack:///./src/views/systemSetting/mapSetting.vue","webpack:///./node_modules/babel-runtime/core-js/object/keys.js","webpack:///./node_modules/core-js/library/fn/object/keys.js","webpack:///./node_modules/core-js/library/modules/_object-sap.js"],"names":["toObject","__webpack_require__","$keys","it","mapSetting","data","activeTypeCode","tabList","pubItemObj","isnoSetting","created","_this","this","getAllType","then","getAllMapSetting","methods","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","next","Object","sent","content","typeCode","stop","_this3","_callee2","pubList","checkedItem","innerObj","_context2","filter","item","display","map","attr_code","$set","length","handleClick","checkPub","val","submit","_this4","checkList","some","params","keys_default","forEach","obj","categoryId","attrCode","push","status","$message","type","message","systemSetting_mapSetting","render","_vm","_h","$createElement","_c","_self","staticStyle","position","_v","staticClass","attrs","on","click","tab-click","model","value","callback","$$v","expression","_l","key","label","typeName","name","_e","max","i","width","change","_s","attr_name","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__","module","exports","default","__esModule","keys","$export","core","fails","KEY","exec","fn","exp","S","F"],"mappings":"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","file":"static/js/2.d6b02e063519db5b63ca.js","sourcesContent":["// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/es6.object.keys.js\n// module id = Cdx3\n// module chunks = 2","<template>\n  <div>\n    <div style=\"position:relative\">\n      <h1>地图显示的房间配置信息字段</h1>\n      <p>选中的信息字段会在地图上直接显示，所选字段不超过三个</p>\n      <el-button type=\"primary\" class=\"button\" @click=\"submit\">提交</el-button>\n    </div>\n    <el-tabs v-model=\"activeTypeCode\" @tab-click=\"handleClick\">\n      <el-tab-pane\n        v-for=\"item in tabList\"\n        :label=\"item.typeName\"\n        :name=\"item.typeCode\"\n        :key=\"item.typeCode\"\n      >\n        <p v-if=\"isnoSetting\">该公房分类下还没有配置信息字段，请在'公房分类管理'中配置后，设置地图显示字段</p>\n        <el-checkbox-group v-model=\"pubItemObj[activeTypeCode].checkList\" style=\"display:flex  flex-wrap:wrap\" :max=\"3\">\n          <el-checkbox\n            style=\"width:220px\"\n            class=\"el-checkbox\"\n            v-for=\"(item, i) in pubItemObj[activeTypeCode].boxList\"\n            :label=\"item.attr_code\"\n            :key=\"i\"\n            @change=\"checkPub\"\n          >\n            {{item.attr_name}}\n          </el-checkbox>\n        </el-checkbox-group>\n      </el-tab-pane>\n    </el-tabs>\n  </div>\n</template>\n<script>\nimport { getAllMapSetting, getAllType, submitSetting } from '@/api/data'\nimport { constants } from 'fs'\nimport axios from 'axios'\nimport qs from 'qs'\n// :label=\"i.attrname\" style=\"width:220px\" class=\"el-checkbox\" v-for=\"(i,k) of boxList[index]\" :key='k'\nexport default {\n  data () {\n    return {\n      activeTypeCode: null,\n      tabList: [], // 公房列表\n      pubItemObj: {},\n      isnoSetting: false\n    }\n  },\n  created () {\n    this.getAllType().then(() => {\n      this.getAllMapSetting()\n    })\n  },\n  methods: {\n    async getAllType () {\n      const res = await getAllType()\n      this.tabList = res.data.data.content\n      this.activeTypeCode = this.tabList[0].typeCode\n      // console.log('this.tabList', this.tabList)\n    },\n    async getAllMapSetting () {\n      const res = await getAllMapSetting(this.activeTypeCode)\n      const pubList = res.data.data\n      // 默认选中\n      const checkedItem = pubList.filter(item => item.display).map(item => item.attr_code)\n      const innerObj = {}\n      this.$set(innerObj, 'boxList', pubList)\n      this.$set(innerObj, 'checkList', checkedItem)\n      this.$set(this.pubItemObj, this.activeTypeCode, innerObj)\n      this.isnoSetting = this.pubItemObj.length === 0\n      // console.log('pubItemObj', this.pubItemObj);\n    },\n    handleClick () {\n      this.getAllMapSetting()\n    },\n    checkPub (val) {\n      // console.log('val', this.pubItemObj[this.activeTypeCode].checkList)\n    },\n    // 提交地图配置(需要携带token)\n    submit () {\n      if (\n        this.pubItemObj[this.activeTypeCode].checkList.some(item => {\n          return item.length !== 0\n        })\n      ) {\n        let params = []\n        Object.keys(this.pubItemObj).forEach(item => {\n          let obj = {}\n          obj.categoryId = item\n          obj.attrCode = this.pubItemObj[item].checkList\n          params.push(obj)\n        })\n        submitSetting(params).then(res => {\n          // console.log(res);\n          if (res.data.status) {\n            this.$message({\n              type: 'success',\n              message: '提交成功'\n            })\n          } else {\n            this.$message({\n              type: 'warning',\n              message: '网络错误'\n            })\n          }\n        })\n      } else {\n        this.$message({\n          type: 'warning',\n          message: '各类公房的地图配置不能为空，请核对'\n        })\n      }\n    }\n  }\n}\n</script>\n<style lang=\"\" scoped>\n.el-checkbox {\n  margin-bottom: 20px;\n}\n.button {\n  position: absolute;\n  right: 0;\n  bottom: 0;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/systemSetting/mapSetting.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('h1',[_vm._v(\"地图显示的房间配置信息字段\")]),_vm._v(\" \"),_c('p',[_vm._v(\"选中的信息字段会在地图上直接显示，所选字段不超过三个\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"button\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(\"提交\")])],1),_vm._v(\" \"),_c('el-tabs',{on:{\"tab-click\":_vm.handleClick},model:{value:(_vm.activeTypeCode),callback:function ($$v) {_vm.activeTypeCode=$$v},expression:\"activeTypeCode\"}},_vm._l((_vm.tabList),function(item){return _c('el-tab-pane',{key:item.typeCode,attrs:{\"label\":item.typeName,\"name\":item.typeCode}},[(_vm.isnoSetting)?_c('p',[_vm._v(\"该公房分类下还没有配置信息字段，请在'公房分类管理'中配置后，设置地图显示字段\")]):_vm._e(),_vm._v(\" \"),_c('el-checkbox-group',{staticStyle:{\"display\":\"flex  flex-wrap:wrap\"},attrs:{\"max\":3},model:{value:(_vm.pubItemObj[_vm.activeTypeCode].checkList),callback:function ($$v) {_vm.$set(_vm.pubItemObj[_vm.activeTypeCode], \"checkList\", $$v)},expression:\"pubItemObj[activeTypeCode].checkList\"}},_vm._l((_vm.pubItemObj[_vm.activeTypeCode].boxList),function(item,i){return _c('el-checkbox',{key:i,staticClass:\"el-checkbox\",staticStyle:{\"width\":\"220px\"},attrs:{\"label\":item.attr_code},on:{\"change\":_vm.checkPub}},[_vm._v(\"\\n          \"+_vm._s(item.attr_name)+\"\\n        \")])}),1)],1)}),1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5c435328\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/systemSetting/mapSetting.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5c435328\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./mapSetting.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mapSetting.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./mapSetting.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5c435328\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./mapSetting.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5c435328\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/systemSetting/mapSetting.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/object/keys.js\n// module id = fZjL\n// module chunks = 2","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/object/keys.js\n// module id = jFbC\n// module chunks = 2","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/_object-sap.js\n// module id = uqUo\n// module chunks = 2"],"sourceRoot":""}