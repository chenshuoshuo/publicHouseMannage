webpackJsonp([2],{Cdx3:function(e,t,n){var a=n("sB3e"),c=n("lktj");n("uqUo")("keys",function(){return function(e){return c(a(e))}})},c2pg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("fZjL"),c=n.n(a),i=n("Xxa5"),s=n.n(i),o=n("exGp"),r=n.n(o),u=n("Foau"),l=(n("Ya8g"),n("mtWM"),n("mw3O"),{data:function(){return{activeTypeCode:null,tabList:[],pubItemObj:{},isnoSetting:!1}},created:function(){var e=this;this.getAllType().then(function(){e.getAllMapSetting()})},methods:{getAllType:function(){var e=this;return r()(s.a.mark(function t(){var n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.e)();case 2:n=t.sent,e.tabList=n.data.data.content,e.activeTypeCode=e.tabList[0].typeCode;case 5:case"end":return t.stop()}},t,e)}))()},getAllMapSetting:function(){var e=this;return r()(s.a.mark(function t(){var n,a,c,i;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.c)(e.activeTypeCode);case 2:n=t.sent,a=n.data.data,c=a.filter(function(e){return e.display}).map(function(e){return e.attr_code}),i={},e.$set(i,"boxList",a),e.$set(i,"checkList",c),e.$set(e.pubItemObj,e.activeTypeCode,i),e.isnoSetting=0===e.pubItemObj.length;case 10:case"end":return t.stop()}},t,e)}))()},handleClick:function(){this.getAllMapSetting()},checkPub:function(e){},submit:function(){var e=this;if(this.pubItemObj[this.activeTypeCode].checkList.some(function(e){return 0!==e.length})){var t=[];c()(this.pubItemObj).forEach(function(n){var a={};a.categoryId=n,a.attrCode=e.pubItemObj[n].checkList,t.push(a)}),Object(u.h)(t).then(function(t){t.data.status?e.$message({type:"success",message:"提交成功"}):e.$message({type:"warning",message:"网络错误"})})}else this.$message({type:"warning",message:"各类公房的地图配置不能为空，请核对"})}}}),p={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{position:"relative"}},[n("h1",[e._v("地图显示的房间配置信息字段")]),e._v(" "),n("p",[e._v("选中的信息字段会在地图上直接显示，所选字段不超过三个")]),e._v(" "),n("el-button",{staticClass:"button",attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1),e._v(" "),n("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeTypeCode,callback:function(t){e.activeTypeCode=t},expression:"activeTypeCode"}},e._l(e.tabList,function(t){return n("el-tab-pane",{key:t.typeCode,attrs:{label:t.typeName,name:t.typeCode}},[e.isnoSetting?n("p",[e._v("该公房分类下还没有配置信息字段，请在'公房分类管理'中配置后，设置地图显示字段")]):e._e(),e._v(" "),n("el-checkbox-group",{staticStyle:{display:"flex  flex-wrap:wrap"},attrs:{max:3},model:{value:e.pubItemObj[e.activeTypeCode].checkList,callback:function(t){e.$set(e.pubItemObj[e.activeTypeCode],"checkList",t)},expression:"pubItemObj[activeTypeCode].checkList"}},e._l(e.pubItemObj[e.activeTypeCode].boxList,function(t,a){return n("el-checkbox",{key:a,staticClass:"el-checkbox",staticStyle:{width:"220px"},attrs:{label:t.attr_code},on:{change:e.checkPub}},[e._v("\n          "+e._s(t.attr_name)+"\n        ")])}),1)],1)}),1)],1)},staticRenderFns:[]};var b=n("VU/8")(l,p,!1,function(e){n("kHY+")},"data-v-5c435328",null);t.default=b.exports},fZjL:function(e,t,n){e.exports={default:n("jFbC"),__esModule:!0}},jFbC:function(e,t,n){n("Cdx3"),e.exports=n("FeBl").Object.keys},"kHY+":function(e,t){},uqUo:function(e,t,n){var a=n("kM2E"),c=n("FeBl"),i=n("S82l");e.exports=function(e,t){var n=(c.Object||{})[e]||Object[e],s={};s[e]=t(n),a(a.S+a.F*i(function(){n(1)}),"Object",s)}}});
//# sourceMappingURL=2.d6b02e063519db5b63ca.js.map